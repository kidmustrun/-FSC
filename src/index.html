<!DOCTYPE html>
<html lang="en">

<head>
    <title>convForm - example</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <link rel="stylesheet" type="text/css" href="dist/jquery.convform.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="demo.css">
</head>

<body>
    <section id="demo" class="none">
        <div class="vertical-align">
            <div class="row">
                <div class="col-md-4 col-lg-3 pull-right col-xs-offset-0 col-xs-12">
                    <div class="card bg-light">
                        <div class="card-header">Онлайн-консультант<button type="button" class="close" id="close_big">
                                <span aria-hidden="true">&times;</span></button></div>
                        <div id="chat" class="conv-form-wrapper">
                            <img src="media/animals.png" alt="animals">
                            <form action="" method="GET" class="hidden">
                                <select data-callback="storeState" data-conv-question="Здравствуйте,я помощник компании FCS.Что вы хотите узнать?" name="first-question">
                                    <option value="yes">Стоимость услуг</option>
                                    <option value="no">Вопросы по получению сертификации</option>
                                    <option value="may">О компании</option>
                                </select>

                                <div data-conv-fork="first-question">
                                    <div data-conv-case="yes">
                                        <select name="cost" data-conv-question="Выберите вопрос,который вас интересует">
                                            <option value="on">Сколько стоит сертификация?</option>
                                            <option value="tw">Сколько стоят услуги органа по сертификации?</option>
                                            <option value="thr" data-callback="rollback">Обратно к списку</option>
                                        </select>
                                    </div>
                                    <div data-conv-case="no">
                                        <select name="certificate" data-conv-question="Выберите вопрос,который вас интересует">
                                            <option value="a">Основные вопросы по получению сертификации </option>
                                            <option value="b">Сколько времени занимает получение сертификата? </option>
                                            <option value="c">Как выбрать орган по сертификации?</option>
                                            <option value="d">Орган сертификации проконсультирует нас,как выполнять ваши
                                                стандарты?</option>
                                            <option value="i">Ещё вопросы </option>

                                        </select>
                                    </div>
                                    <div data-conv-case="may">
                                        <select name="company" data-conv-question="Выберите вопрос,который вас интересует">
                                            <option value="one">Где и как пройти обучение?</option>
                                            <option value="two">С чего нам начать?</option>
                                            <option value="three">Подскажите пожалуйста,есть ли у вас региональные
                                                специалисты?</option>
                                            <option value="ten">Ещё вопросы</option>
                                        </select>
                                    </div>
                                </div>

                                <div data-conv-fork="certificate">
                                    <div data-conv-case="i">
                                        <select name="prodcertific" data-conv-question="Выберите вопрос,который вас интересует">
                                            <option value="e">Что делать ,если в моём городе нет органов по
                                                сертификации/консультантов?</option>
                                            <option value="f">Можем ли мы получить сертификат лесоуправления,если мы всё
                                                делаем строго по законодательству?</option>
                                            <option value="g">Кто выдаёт сертификаты?</option>
                                            <option value="h" data-callback="rollback">Обратно к списку</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="a">
                                        <select name="questine" data-conv-question="Выберите вопрос, который вас интересует">
                                            <option value="mc">В чём суть сертификации лесоуправления?</option>
                                            <option value="mv">В чём суть сертификации цепочек поставок?</option>
                                            <option value="mb">Как выяснить, есть ли сертификаты FSC у моих
                                                поставщиков?</option>
                                            <option value="mn" data-callback="rollback">Обратно к списку</option>
                                        </select>
                                    </div>
                                </div>

                                <div data-conv-fork="company">
                                    <div data-conv-case="ten">
                                        <select name="system" data-conv-question="Выберите вопрос,который вас интересует">
                                            <option value="four">Если мы используем только сертифицированное сырьё...?
                                            </option>
                                            <option value="five">FSC - это иностранная система?</option>
                                            <option value="six">Могу ли я продавать свою продукцию за границу без
                                                сертификата FSC?</option>
                                            <option value="seven" data-callback="rollback">Обратно к списку</option>
                                        </select>
                                    </div>
                                </div>

                                <!--Вторая часть .Ответы на вопрос.-->

                                <div data-conv-fork="cost">

                                    <div data-conv-case="on">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>


                                    <div data-conv-case="tw">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                </div>

                                <div data-conv-fork="certificate">


                                    <div data-conv-case="b">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="c">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="d">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                </div>
                                <!-- -->

                                <div data-conv-fork="questine">
                                    <div data-conv-case="mc">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="mv">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>
                                    <div data-conv-case="mb">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>
                                </div>





                                <div data-conv-fork="prodcertific">
                                    <div data-conv-case="e">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="f">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>
                                    <div data-conv-case="g">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>
                                </div>

                                <div data-conv-fork="system">
                                    <div data-conv-case="four">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="five">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="six">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>
                                </div>


                                <div data-conv-fork="company">
                                    <div data-conv-case="one">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="two">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>

                                    <div data-conv-case="three">
                                        <select data-conv-question="Ответ.">
                                            <option data-callback="rollback">Вернуться к началу</option>
                                        </select>
                                    </div>
                                </div>



                            </form>
                        </div>


                        <div class="contacts-wrapper">
                            <a href="https://ru.fsc.org/ru-ru/o_nas/kontakty" class="contacts">
                                <div class="container-fluid">
                                    <div class="row">

                                        <img src="media/phone.png" alt="phone">


                                        <span>Узнать номер</span>

                                    </div>
                                </div>
                            </a>
                            <a href="https://ru.fsc.org/ru-ru/o_nas/kontakty" class="contacts">
                                <div class="container-fluid">
                                    <div class="row">

                                        <img src="media/geo.png" alt="geo">


                                        <span>Узнать адрес</span>

                                    </div>
                                </div>
                            </a>
                            <a href="https://ru.fsc.org/ru-ru/o_nas/kontakty" class="contacts">
                                <div class="container-fluid">
                                    <div class="row">

                                        <img src="media/mail.png" alt="mail">


                                        <span>Узнать почту</span>

                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
    </section>
    <div class="window none" id="window">
        <div class="card" style="width: 18rem;">
            <div class="card-body">

                <h5 class="card-title text-center ">Онлайн-консультант<button type="button" class="close" id="close_small">
                    <span aria-hidden="true">&times;</span></button></h5>

                <div class="min-message">Здравствуйте, Вам помочь?</div>

                <button class="min-button" id="help">Да!</button>
            </div>
        </div>
    </div>
    <div class="window-min" id="window_min">
        <img src="media/mail.png" alt="mail">
    </div>


    </div>
    <script type="text/javascript" src="dist/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="dist/autosize.min.js"></script>
    <script type="text/javascript" src="dist/jquery.convform.js"></script>
    <script>
        function toTheStart(stateWrapper, ready) {
            window.open("to-begin");
            ready();
        }

        function bing(stateWrapper, ready) {
            window.open("https://bing.com");
            ready();
        }

        var rollbackTo = false;
        var originalState = false;

        function storeState(stateWrapper, ready) {
            rollbackTo = stateWrapper.current;
            console.log("storeState called: ", rollbackTo);
            ready();
        }

        function rollback(stateWrapper, ready) {
            console.log("rollback called: ", rollbackTo, originalState);
            console.log("answers at the time of user input: ", stateWrapper.answers);
            if (rollbackTo != false) {
                if (originalState == false) {
                    originalState = stateWrapper.current.next;
                    console.log('stored original state');
                }
                stateWrapper.current.next = rollbackTo;
                console.log('changed current.next to rollbackTo');
            }
            ready();
        }

        function restore(stateWrapper, ready) {
            if (originalState != false) {
                stateWrapper.current.next = originalState;
                console.log('changed current.next to originalState');
            }
            ready();
        }
    </script>
    <script>
        $(document).ready(function() {

            $("#window_min").click(function() {

                $("#window_min").toggleClass("none");
                $("#window").toggleClass("none");
                $("#window").addClass("animation-appearance");
                $("#window_min").removeClass("animation-appearance");


            });
            $("#close_small").click(function() {
                $("#window").removeClass("animation-appearance");
                $("#window_min").toggleClass("none");
                $("#window_min").addClass("animation-appearance");
                $("#window").toggleClass("none");
            });
            $("#close_big").click(function() {

                $("#demo").toggleClass("none");
                $("#window").toggleClass("none");
                $("#demo").removeClass("animation-appearance");
                $("#window").addClass("animation-appearance");

            });
            $("#help").click(function() {
                $("#demo").toggleClass("none");
                $("#window").toggleClass("none");
                $("#demo").addClass("animation-appearance");
                $("#window").removeClass("animation-appearance");
                jQuery(function($) {
                    convForm = $('#chat').convform({
                        selectInputStyle: 'disable'
                    });
                    console.log(convForm);
                });

            });
        });
    </script>
</body>

</html>